<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" type="text/css" href="http://blog.dasroot.net/theme/css/semantic.min.css">
  <link rel="stylesheet" type="text/css" href="http://blog.dasroot.net/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="http://blog.dasroot.net/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Charles Butler">
  <meta name="description" content="Posts and writings by Charles Butler">

  <link href="http://blog.dasroot.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Chuck@Home Atom" />
<meta name="keywords" content="untagged">

  <title>
    Chuck@Home
&ndash; Closure JS Compiler  </title>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29116636-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="http://blog.dasroot.net">
        <img src="http://www.gravatar.com/avatar/78270a8df5051560ab56ad16bc4724a3.png?s=200" alt="Chuck@home" class="ui medium circular image">
      </a>
      <h2><a href="http://blog.dasroot.net">Chuck@Home</a></h2>
      <p>juju deploy happiness</p>
      <ul>
        <li><a href="http://charlesbutler.me/" target="_blank">About Chuck</a></li>
        <li><a href="http://blog.juju.solutions/" target="_blank">My GPG Key</a></li>
        <li><a href="http://blog.dasroot.net/archives" target="_blank">Archives</a></li>
        <li><a href="http://github.com/chuckbutler" target="_blank">Github</a></li>
        <li><a href="http://twitter.com/lazypower" target="_blank">Twitter</a></li>
        <li><a href="https://plus.google.com/+CharlesButlertheNinja" target="_blank">Google+</a></li>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      <a href="http://blog.dasroot.net">Index</a> &brvbar; <a href="http://blog.dasroot.net/archives.html">Archives</a>
      &brvbar; <a href="http://blog.dasroot.net/feeds/all.atom.xml">Atom</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h3><a href="http://blog.dasroot.net/closure-js-compiler.html">Closure JS Compiler</a></h3>
  </div>
  <div class="article_text">
    <hr />
<p><a href="https://plus.google.com/109692134350783862945">Nathan Osman</a> asked me a while back about what I knew of the <a href="http://code.google.com/closure/compiler/">closure compiler</a>. At that time, I had <em>no</em> idea what I was missing. </p>
<blockquote>
<p>The <a href="http://code.google.com/closure/compiler/">Closure Compiler</a> is a tool for making JavaScript download and run faster. It is a true compiler for JavaScript. Instead of compiling from a source language to machine code, it compiles from JavaScript to better JavaScript. It parses your JavaScript, analyzes it, removes dead code and rewrites and minimizes what's left. It also checks syntax, variable references, and types, and warns about common JavaScript pitfalls.
<small>The official <a href="http://code.google.com/closure/compiler/">closure compiler</a> page</small></p>
</blockquote>
<!-- more -->

<p>Sounds fairly interesting right? As a full time developer, I find myself writing deploy scripts, augmenting continuous build servers, and planning a ton of deployment automation. The <a href="http://www.level-interactive.com">company</a> I work for has a TON of managed client sites. We extend their frameworks and augment the front-end elements on a daily basis - akin to the optimization services we offer. I found myself at the eventuality of needing to automate the minification and testing of our javascript. Enter my need for the closure compiler - as jslint and jsminify just wasnt enough. This needed to be light weight and always available - ding! plug it into a webservice.</p>
<p>While plotting how to do this - I discovered python was an excellent language for this. Instead of messing around with the powershell bits - a python script seems to carry less overhead and perform the same goal with less convoluted syntax. Google provides a default script that reads the script from stdin and prints out the compiled code - the following script is my first attempt at python and a simple modified version of googles own <a href="http://code.google.com/closure/compiler/docs/api-tutorial1.html">compile.py</a></p>
<p>I set out to write a script that I can use in our Continuous Integration server <em>powered by <a href="http://jenkins-ci.org/">jenkins</a></em> since it's already running our jsunit tests. Add a trigger for once a test-suite is complete and marks the library as good - run this little gem and auto-minify your javascript.</p>
<p>{% gist 1812994 %}</p>
<p>Since I bundled this up for our company deploy scripts - you can follow its evolution <a href="https://github.com/University-Bound/UBound-Utility">here</a></p>
  </div>
  <div class="article_meta">
    <p>Posted on: Tue 26 November 2013</p>
    <p>Category: <a href="http://blog.dasroot.net/category/misc.html">misc</a>
 &ndash; Tags:
      <a href="http://blog.dasroot.net/tag/untagged.html">untagged</a>    </p>
  </div>

  <div id="commentswrap">
      <div id="comments"></div>
  </div>
  
    <script src="https://apis.google.com/js/plusone.js"></script>
    <script>
        $(document).ready(function () {
            gapi.comments.render('comments', {
                href: window.location,
                width: '600',
                first_party_property: 'BLOGGER',
                view_type: 'FILTERED_POSTMOD'
            });
    });
    </script>



</article>


    <div id="ending_message">
      <p>&copy; Charles Butler. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Charles Butler on <a href="https://github.com/chuckbutler/pelican-svbremix" target="_blank">github</a>. Member of the <a href="http://internetdefenseleague.org">Internet Defense League</a>.</p>
    </div>
  </main>
<script type="text/javascript">
  window._idl = {};
  _idl.variant = "banner";
  (function() {
    var idl = document.createElement('script');
    idl.type = 'text/javascript';
    idl.async = true;
    idl.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'members.internetdefenseleague.org/include/?url=' + (_idl.url || '') + '&campaign=' + (_idl.campaign || '') + '&variant=' + (_idl.variant || 'banner');
    document.getElementsByTagName('body')[0].appendChild(idl);
  })();
</script>
</body>
</html>